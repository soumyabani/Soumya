'''
CTFd Documentation:
'''
 Technology:
 
 → CTFd - Python, Flask web framework.
 
 Installation:
 
 → Install Docker and Docker compose.
 
 → clone CTFd repo: git clone https://github.com/CTFd/CTFd.git
 
 → Modify the docker-compose.yml file from the repository to specify a SECRET_KEY environment for the CTFd service.
 
 1. to generate a .ctfd_secret_key file : head -c 64 /dev/urandom > .ctfd_secret_key
 
 2. export it as an environment variable: export SECRET_KEY=$(cat .ctfd_secret_key | base64)
 
 3. modify in docker-compose.yml, SECRET_KEY=${SECRET+KEY}
 
 → Run docker compose up 
 
 → You should now be able to access CTFd at [http://localhost:8000](http://localhost:8000/)
 
 (The default Docker Compose configuration files do not configure SSL/TLS.)
 
 Dependencies:
 
 1. WSGI server - installed by default - runs the web application - pass response for the requests from web server.
 2. Database server - default CTFd will create a SQLite database - used with MySQL, MariaDB, or SQLite - not recommended with postgres - ctfd supports JSON data type.
 3. Caching server - The preferred caching server option is Redis.
 
 Updation
 
 image field → replace with new version → docker-compose pull → docker-compose up
 
 build field → git pull → docker-compose build → docker-compose up
 
 Challenges
 
 File upload - CTFd allows users to upload files.
 
 Flags - Admins create different type of flags for each challenge.
 
 Deploying : 
 
 - 
 
 Sign in options
 
 OAuth - Allow users to log in to self hosted CTFd instance using their GitHub accounts, using the credentials from GitHub OAuth app.
 
 Backup of CTFd instances
 
 capability to export all instance data as a zip file for archival purposes - only possible by admin.
 
 export selected data in csv format.
 
 Extending CTFd - plugins, provider etc
 
 Management
 
 1. ctfcli https://github.com/CTFd/ctfcli?tab=readme-ov-file
 
 command line uploading of challenges.
 
 provides an integration with the CTFd REST API.
 
 integration with CI/CD build systems.
 contains pre-made challenge templates.
 
 Every challenge generated by or processed by ctfcli should have a challenge.yml file.
 
 ctfcli plugins - additions to the command line interface
 
 caution:  *ctfcli is still considered an alpha project and changes will happen.*
 
 1. Terrafom + CTFd provider
 
 https://registry.terraform.io/providers/ctfer-io/ctfd/latest/docs
 
 https://github.com/ctfer-io/terraform-provider-ctfd
 
 Integrations
 
 1. Custom webhooks, slack webhooks,discord webhooks - not availalable for open source.
 2. MajorLeagueCyber - CTF Event Tracker - an official listing of CTF participants and tracking of performance between events.
 3. Crisp chat - chat bubble to communicate with the users.
 
 Plugins
 
 plugin can do things like - developing plugins
 
 - Add new routes (pages, APIs)
 - Modify existing routes
 - Add new database tables
 - Replace templates
 - Add JavaScript or CSS files
 
 challenge type plugins
 
 - to define own type of challenges - eg: multi flag challanges, creating different logic for challenges(time based, dynamic properties).
 
 flag type plugins
 
 - to provide more flexibility to validate different type of flags - regex, static or more conditions.
 
 (→ on/off via admin
 
 → endpoint protection for admins only
 
 → export of challenges stats, scorebord, admin metrics, 
 
 → ability to add custom metrics for plugins )

